{
	"info": {
		"_postman_id": "food-ordering-api-collection",
		"name": "Food Ordering API",
		"description": "Complete API collection for Food Ordering Platform Backend",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set(\"auth_token\", response.token);",
									"    pm.environment.set(\"user_id\", response.user.id);",
									"    pm.environment.set(\"user_email\", response.user.email);",
									"    console.log(\"Token saved:\", response.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phoneNumber\": \"+1234567890\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						},
						"description": "Register a new user account"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set(\"auth_token\", response.token);",
									"    pm.environment.set(\"user_id\", response.user.id);",
									"    pm.environment.set(\"user_email\", response.user.email);",
									"    console.log(\"Token saved:\", response.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user_email}}\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						},
						"description": "Login with email/phone and password"
					},
					"response": []
				},
				{
					"name": "Request OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user_email}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/otp/request",
							"host": ["{{base_url}}"],
							"path": ["auth", "otp", "request"]
						},
						"description": "Request OTP for passwordless login"
					},
					"response": []
				},
				{
					"name": "Verify OTP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set(\"auth_token\", response.token);",
									"    pm.environment.set(\"user_id\", response.user.id);",
									"    console.log(\"Token saved:\", response.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{user_email}}\",\n  \"otp\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/otp/verify",
							"host": ["{{base_url}}"],
							"path": ["auth", "otp", "verify"]
						},
						"description": "Verify OTP and login"
					},
					"response": []
				},
				{
					"name": "Promote to Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"{{user_id}}\",\n  \"secretKey\": \"{{admin_secret_key}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/promote-admin",
							"host": ["{{base_url}}"],
							"path": ["auth", "promote-admin"]
						},
						"description": "Promote a user to admin (requires ADMIN_SECRET_KEY)"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints"
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products",
							"host": ["{{base_url}}"],
							"path": ["products"]
						},
						"description": "Get all active products (Public endpoint)"
					},
					"response": []
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/:id",
							"host": ["{{base_url}}"],
							"path": ["products", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "{{product_id}}",
									"description": "Product UUID"
								}
							]
						},
						"description": "Get a specific product by ID (Public endpoint)"
					},
					"response": []
				}
			],
			"description": "Product catalog endpoints (Public)"
		},
		{
			"name": "Cart",
			"item": [
				{
					"name": "Get Cart",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/cart",
							"host": ["{{base_url}}"],
							"path": ["cart"]
						},
						"description": "Get user's cart"
					},
					"response": []
				},
				{
					"name": "Add to Cart",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.items && response.items.length > 0) {",
									"        pm.environment.set(\"cart_item_id\", response.items[0].id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"productId\": \"{{product_id}}\",\n  \"variantId\": \"{{variant_id}}\",\n  \"quantity\": 2\n}"
						},
						"url": {
							"raw": "{{base_url}}/cart/add",
							"host": ["{{base_url}}"],
							"path": ["cart", "add"]
						},
						"description": "Add item to cart"
					},
					"response": []
				},
				{
					"name": "Update Cart Item",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quantity\": 3\n}"
						},
						"url": {
							"raw": "{{base_url}}/cart/items/:itemId",
							"host": ["{{base_url}}"],
							"path": ["cart", "items", ":itemId"],
							"variable": [
								{
									"key": "itemId",
									"value": "{{cart_item_id}}",
									"description": "Cart item UUID"
								}
							]
						},
						"description": "Update cart item quantity"
					},
					"response": []
				},
				{
					"name": "Remove from Cart",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/cart/items/:itemId",
							"host": ["{{base_url}}"],
							"path": ["cart", "items", ":itemId"],
							"variable": [
								{
									"key": "itemId",
									"value": "{{cart_item_id}}",
									"description": "Cart item UUID"
								}
							]
						},
						"description": "Remove item from cart"
					},
					"response": []
				},
				{
					"name": "Clear Cart",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/cart/clear",
							"host": ["{{base_url}}"],
							"path": ["cart", "clear"]
						},
						"description": "Clear entire cart"
					},
					"response": []
				}
			],
			"description": "Shopping cart endpoints (Protected)"
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Place Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set(\"order_id\", response.id);",
									"    pm.environment.set(\"order_orderId\", response.orderId);",
									"    console.log(\"Order placed:\", response.orderId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paymentType\": \"cash\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders",
							"host": ["{{base_url}}"],
							"path": ["orders"]
						},
						"description": "Place an order from cart"
					},
					"response": []
				},
				{
					"name": "Get All Orders",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/orders",
							"host": ["{{base_url}}"],
							"path": ["orders"]
						},
						"description": "Get all user orders"
					},
					"response": []
				},
				{
					"name": "Get Order by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/orders/:id",
							"host": ["{{base_url}}"],
							"path": ["orders", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "{{order_id}}",
									"description": "Order UUID"
								}
							]
						},
						"description": "Get order by ID"
					},
					"response": []
				},
				{
					"name": "Update Order Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"paid\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders/:id/status",
							"host": ["{{base_url}}"],
							"path": ["orders", ":id", "status"],
							"variable": [
								{
									"key": "id",
									"value": "{{order_id}}",
									"description": "Order UUID"
								}
							]
						},
						"description": "Update order status (pending, paid, processing, completed, cancelled)"
					},
					"response": []
				}
			],
			"description": "Order management endpoints (Protected)"
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Create Product",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set(\"product_id\", response.id);",
									"    if (response.variants && response.variants.length > 0) {",
									"        pm.environment.set(\"variant_id\", response.variants[0].id);",
									"    }",
									"    console.log(\"Product created:\", response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Chicken Wings\",\n  \"description\": \"Delicious crispy chicken wings\",\n  \"imageUrl\": \"https://example.com/image.jpg\",\n  \"category\": \"Appetizers\",\n  \"variants\": [\n    {\n      \"name\": \"8pc\",\n      \"price\": 12.99,\n      \"isAvailable\": true\n    },\n    {\n      \"name\": \"16pc\",\n      \"price\": 22.99,\n      \"isAvailable\": true\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/products",
							"host": ["{{base_url}}"],
							"path": ["admin", "products"]
						},
						"description": "Create a new product (Admin only)"
					},
					"response": []
				},
				{
					"name": "Update Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Spicy Chicken Wings\",\n  \"description\": \"Updated description\",\n  \"variants\": [\n    {\n      \"name\": \"8pc\",\n      \"price\": 13.99,\n      \"isAvailable\": true\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/products/:id",
							"host": ["{{base_url}}"],
							"path": ["admin", "products", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "{{product_id}}",
									"description": "Product UUID"
								}
							]
						},
						"description": "Update a product (Admin only)"
					},
					"response": []
				},
				{
					"name": "Delete Product (Soft)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/products/:id",
							"host": ["{{base_url}}"],
							"path": ["admin", "products", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "{{product_id}}",
									"description": "Product UUID"
								}
							]
						},
						"description": "Soft delete a product (sets isActive to false)"
					},
					"response": []
				},
				{
					"name": "Delete Product (Permanent)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/products/:id/permanent",
							"host": ["{{base_url}}"],
							"path": ["admin", "products", ":id", "permanent"],
							"variable": [
								{
									"key": "id",
									"value": "{{product_id}}",
									"description": "Product UUID"
								}
							]
						},
						"description": "Permanently delete a product from database"
					},
					"response": []
				}
			],
			"description": "Admin endpoints (Admin only)"
		},
		{
			"name": "Health",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": ["{{base_url}}"],
							"path": [""]
						},
						"description": "Health check endpoint"
					},
					"response": []
				}
			],
			"description": "Health check endpoint"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}

